<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>5 Minute Timer</title>
  <style>
body {
  font-family: 'Verdana', sans-serif;
  text-align: center;
  font-size : 20vh;
  margin: 1% 10% 1% 10%;
}
.bottom-image {
  position: fixed;
  bottom: 0;
  left: 20vw;
}
  </style>
</head>
<body>

<h2 id="timer">5:00</h2>

<img id="instructions" class="bottom-image" src="" >

<script>
const timerDuration = 300                                                       // 5 minutes
const av            = 'https://github.com/philiprbrenan/philiprbrenan.github.io/raw/main/timer/' // Audio visual source
const audio         = new Audio(av+'/Bella%20ciao%20ringtone%20meloboom.mp3')   // Chimes
const help          =           av+'/Instructions.png'                          // Help allowing audio to be played
const timerDisplay  = document.getElementById('timer')
var secondsLeft     = timerDuration

function countdown() {                                                          // Count down and play chimes at end
  const minutes  = Math.floor(secondsLeft / 60);
  const seconds2 = secondsLeft % 60;
  const seconds  = seconds2 < 10 ? '0' + seconds2 : seconds2;

  timerDisplay.textContent = minutes + ':' + seconds;                           // Format display

  if (secondsLeft === 0) audio.play()                                           // Finished - play chimes
  else {
    secondsLeft--                                                               // Count down
    setTimeout(countdown, 1000)
  }
}

instructions.src = help                                                         // Explain how to let audio play
countdown()                                                                     // Start the countdown when the page loads
</script>
</body>
</html>
